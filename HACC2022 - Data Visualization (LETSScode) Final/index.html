<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<!-- Import chart.js through cdnjs -->
	<!-- !!!Don't know if this is the correct place/usage of this code!!! -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" defer></script>
	<script type="module" src="script.js" defer></script>
	<link href="style.css" rel="stylesheet" type="text/css" />
	<title>LETSSviz</title>
</head>

<body>
<!-- Page 1 -->
	<div id="index">
		<a href="#" onclick="return changePage('page2', 'index', true);">Page 2</a>
		<h1>LETSSviz</h1>
		<h4>Upload your .csv file from <a href="https://opendata.hawaii.gov/" target="_blank" rel="noopener noreferrer">Hawaii Open Data</a> to turn it into a visible graph to display your information! Add data file, double click the submit button, and proceed to the next page by pressing the last button.</h4>
		<form id="fileForm">
			<input type="file" id="csvFile" accept=".csv" hidden />
			<button type="button" class="fileButton" id="fileButton" onclick="document.getElementById('csvFile').click()">Add .csv File</button>
			<span class="fileChosen" id="fileChosen">No file added</span>
			<input class="submit" type="submit" value="Submit" />
			<span class="submitted" id="submitted">Not submitted</span>
			<button type="button" class="changePageButton" id="changePageButton" onclick="return changePage('page2', 'index');">Move to Data<br>Visualization Page</button>
		</form>
	</div>

<!-- Page 2 -->
	<div id="page2" style="display:none">
		<div id="selection" class="selection">
			<label>Data: </label>
            <select id="dataSelect" selected=>
                <!-- options added after data is imported -->
				<option value="null" selected>-select the data below-</option>
            </select>
			<label>Chart: </label>
            <select id="chartSelect">
				<option value="null" selected>-select the chart below-</option>
                <option value="0">Bar Chart</option>
                <option value="1">Line Chart</option>
                <option value="2">Pie Chart</option>
                <option value="3">Radar Chart</option>
                <option value="4">Polar Area Chart</option>
            </select>
			<label>Label: </label>
            <select id="labelSelect">
                <!-- options added after data imported (cannot choose the same option as the data type) -->
				<option value="null" selected>-select the label below-</option>
				<option value="void">=NO LABEL=</option>
            </select>
			<button id="generateChartButton" class="generateChartButton" onclick="generateChart();">Generate Chart</button>
			<button id="newChartButton" class="newChartButton" style="display:none" onclick="resetPage();">New Chart</button>
			<button id="saveChartButton" class="saveChartButton" style="display:none" onclick="saveChart();">Generate Chart Saving Link</button>
			<a id="saveChartLink" class="saveChartLink" href="" style="display:none" download>Download (.png)</a>
			<!-- vw: % width of viewport, vh: % height of viewport -->	
		</div>
		<a href="#" onclick="return changePage('index', 'page2', true);">Home</a>
		<canvas id="myChart" width="90vw" height="75vh" style="display:none"></canvas>
		<!-- test --><script>console.log(data);</script>
	</div>

</body>

</html>